<StackLayout id="new-appointment" (swipe)="onSwipe($event)">
    <StackLayout class="view-title">
        <Label class="title" text="DODAJ NOWE OGŁOSZENIE"></Label>
    </StackLayout>
    <StackLayout *ngIf="types && addressesLabels">
        <RadDataForm tkExampleTitle tkToggleNavButton [source]="offer1">
            <TKEntityProperty tkDataFormProperty name="Label" displayName="Tytuł" index="1"></TKEntityProperty>
            <TKEntityProperty tkDataFormProperty name="TypeID" hidden="true"></TKEntityProperty>
            <TKEntityProperty tkDataFormProperty name="Type" displayName="Typ ogłoszenia" index="2" [valuesProvider]="types">
                <TKPropertyEditor tkEntityPropertyEditor type="Picker"></TKPropertyEditor>
            </TKEntityProperty>
            <TKEntityProperty tkDataFormProperty name="AddressID" hidden="true"></TKEntityProperty>
            <TKEntityProperty tkDataFormProperty name="Address" displayName="Adres" index="3" valuesProvider= "{{ addressesLabels }}">
                <TKPropertyEditor tkEntityPropertyEditor type="Picker"></TKPropertyEditor>
            </TKEntityProperty>
        </RadDataForm>

        <Button class="button" text="Dodaj adres" (onTap)="addAddress()" *ngIf="!showNewAddressForm"></Button>

        <StackLayout *ngIf="showNewAddressForm">
            <RadDataForm tkExampleTitle tkToggleNavButton [source]="addressForm">
                <TKEntityProperty tkDataFormProperty name="Label" displayName="Etykieta" index="1"></TKEntityProperty>
                <TKEntityProperty tkDataFormProperty name="Address" displayName="Adres" index="2"></TKEntityProperty>
                <TKEntityProperty tkDataFormProperty name="LongitudePos" hidden="true"></TKEntityProperty>
                <TKEntityProperty tkDataFormProperty name="LatitudePos" hidden="true"></TKEntityProperty>
            </RadDataForm>
            <FlexBoxLayout orientation="horizontal" justifyContent="space-around">
                <Button class="button" text="Potwierdź" (onTap)="confirmAddingAddress()" width="43%"></Button>
                <Button class="button" text="Anuluj" (onTap)="addAddress()" width="43%"></Button>
            </FlexBoxLayout>
        </StackLayout>        

        <RadDataForm tkExampleTitle tkToggleNavButton [source]="offer2">
            <TKEntityProperty tkDataFormProperty name="Description" displayName="Opis ogłoszenia" index="1">
                <TKPropertyEditor tkEntityPropertyEditor type="MultilineText"></TKPropertyEditor>
            </TKEntityProperty>
            <TKEntityProperty tkDataFormProperty name="ImageURL" hidden="true"></TKEntityProperty>
            <TKEntityProperty tkDataFormProperty name="Date" hidden="true"></TKEntityProperty>
            <TKEntityProperty tkDataFormProperty name="Price" displayName="Cena" index="2">
                <TKPropertyEditor tkEntityPropertyEditor type="Decimal"></TKPropertyEditor>
            </TKEntityProperty>
        </RadDataForm>
        <Button class="button" text="Wyślij ogłoszenie" (onTap)="commitOffer()" [nsRouterLink]="['/my-appointments']"></Button>
    </StackLayout>
</StackLayout>